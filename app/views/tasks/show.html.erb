<div class="d-flex justify-content-between align-items-center py-3">
  <h1>Task: <%= @task.title %></h1>
  <div class="d-flex justify-content-end align-items-center gap-5">
    <%= render 'tasks/toggle_completion_status_button', task: @task %>
    <div class="btn-group gap-1">
      <%= link_to "Edit Task", edit_task_path(@task), class: "btn btn-outline-primary" %>
      <%= link_to "Return to Tasks", tasks_path, class: "btn btn-primary" %>
      <%= link_to "Create Task", new_task_path, class: "btn btn-outline-primary" %>
    </div>
  </div>
</div>

<div class="card">
  <%= render "tasks/task_status_span", task: @task %>
  <div class="card-body">
    <h5 class="card-title">Description:</h5>
    <p class="card-text"><%= @task.description.presence || "No description provided." %></p>
    <hr>
    <h5 class="card-title">Project:</h5>
    <% if @task.project.present? %>
      <p class="card-text">
        <%= link_to @task.project.title, project_path(@task.project), class: "nav-link" %>
      </p>
    <% else %>
      <p class="card-text text-muted">Not assigned to a project</p>
    <% end %>
    <hr>
    <h5 class="card-title">Tags:</h5>
    <% if @task.tags.any? %>
      <p class="card-text">
        <% @task.tags.each do |tag| %>
          <span class="badge bg-primary me-1"><%= tag.title %></span>
        <% end %>
      </p>
    <% else %>
      <p class="card-text text-muted">No tags assigned</p>
    <% end %>
    <hr>
    <h5 class="card-title">Attachments:</h5>
    <% if @task.file.attached? %>
      <p class="card-text">
        <%= link_to @task.file.filename.to_s, rails_blob_path(@task.file, disposition: "attachment"), class: "nav-link" %>
      </p>
    <% else %>
      <p class="card-text text-muted">No attachments</p>
    <% end %>
    </div>
  </div>
</div>